# TriadMachina

TriadMachina is a complete toolchain for a custom-made architecture, featuring an assembler, linker, and emulator. This project provides a practical foundation for building, linking, and running machine code in a unique instruction set architecture (ISA). TriadMachina aims to simulate a full software development pipeline from source code to execution in an emulated environment.

### Features
This project uses:

- Bison and flex for lexical and semantic analysis
- C++17 compiler

Assembler features:

- Set of instructions from this picture:
  ![instr](https://github.com/user-attachments/assets/77338a15-ba3c-484b-b911-bdfba0ca5a25)
- Directives:
  - .global <symbol_list>
  - .extern <symbol_list>
  - .section <section_name>
  - .word <list_of_symbols_or_literals>
  - .skip <literal>
  - .ascii <string>
- Run assembler with:
  - ``` <location_to_build>/assembler [options] <input_files> ```
  - options:
    - -o <output_name>

Linker features:

- Run linker with:
  - ```<location_to_build>/linker [options] <input_files> ```
  - options:
  - -o <output_name>
  - -place=<section_name>@<address>
  - -hex
  - -relocatable

Emulator features:

- Run emulator with:
  - ```<location_to_build>/emulator <input_file>```
 
### Project Structure

- **misc/**: All source files for flex and bison and source files that are generated by them
- **src/**: All files for assembler, linker, emulator and common source files that are used by all of them
- **inc/**: All .h and .hpp files
- **tests/**: All assembler test programs

### How to run

To build project, first go to misc and make all, to use flex and bison to generate source files.After that go back and do the same to build project:

```
cd misc
make all
cd ..
make all
```

Project is built, and after that You can run tests:

```
cd tests
cd nivo-a
bash start.sh
```

Same can be done for nivo-b



